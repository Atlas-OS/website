---
import SEO from '@/components/core/SEO.astro';
import Footer from '@/components/layout/Footer.astro';
import Navbar from '@/components/layout/Navbar.astro';
import BaseLayout from '@/layouts/BaseLayout.astro';
import { getCurrentLocale } from '@/utils/navigation';

const currentPath = Astro.url.pathname;
const currentLocale = getCurrentLocale(currentPath);

const defaultTitle = 'AtlasOS - Optimized Windows, designed for enthusiasts.';
const defaultDescription =
  'AtlasOS is an optimized version of Windows, designed for enthusiasts and gamers. Experience faster performance, better privacy, and enhanced gaming capabilities.';
const defaultImage = 'https://atlasos.net/defaultimg.png';
---

<BaseLayout locale={currentLocale} currentPath={currentPath}>
  <Fragment slot="head">
    <SEO
      title={defaultTitle}
      description={defaultDescription}
      image={defaultImage}
      canonicalURL={new URL(currentPath, Astro.site || 'https://atlasos.net').href}
      type="website"
      currentSlug={currentPath}
    />

    <meta
      name="keywords"
      content="AtlasOS, Windows optimization, gaming performance, privacy-focused OS, Windows debloat, gaming Windows, performance optimization"
    />
    <meta name="author" content="AtlasOS Community" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="theme-color" content="#1990fe" />
    <meta name="color-scheme" content="dark" />
    <meta name="format-detection" content="telephone=no" />

    <meta property="og:type" content="website" />
    <meta property="og:image:alt" content="AtlasOS - Optimized Windows for Gaming and Performance" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="AtlasOS" />

    <meta property="twitter:image:alt" content="AtlasOS - Optimized Windows for Gaming and Performance" />
    <meta property="twitter:site" content="@atlasos" />
    <meta property="twitter:creator" content="@atlasos" />

    <script type="application/ld+json" is:inline>
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "AtlasOS",
        "alternateName": "Atlas OS",
        "url": "https://atlasos.net/",
        "description": "AtlasOS is an optimized version of Windows, designed for enthusiasts and gamers. Experience faster performance, better privacy, and enhanced gaming capabilities.",
        "image": "https://atlasos.net/defaultimg.png",
        "sameAs": ["https://github.com/Atlas-OS/Atlas", "https://discord.com/invite/atlasos", "https://x.com/atlasos"],
        "publisher": {
          "@type": "Organization",
          "name": "AtlasOS Community",
          "url": "https://atlasos.net/"
        },
        "potentialAction": {
          "@type": "DownloadAction",
          "target": "/docs/install/",
          "description": "Download and install AtlasOS for optimized Windows performance"
        },
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Windows",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "featureList": [
          "Performance optimization",
          "Privacy enhancement",
          "Gaming improvements",
          "Reduced bloatware",
          "Better usability"
        ]
      }
    </script>
  </Fragment>

  <Fragment slot="body">
    <header>
      <a href="#main-content" class="sr-only focus:not-sr-only">Skip to main content</a>
      <Navbar currentPath={currentPath} locale={currentLocale} isDocsPage={false} />
    </header>
    <main id="main-content" role="main">
      <slot />
    </main>
    <Footer />
  </Fragment>
</BaseLayout>
