---
import { Icon } from 'astro-icon/components';

interface Props {
  prev?: {
    href: string;
    title: string;
    description?: string;
  };
  next?: {
    href: string;
    title: string;
    description?: string;
  };
}

const { prev, next } = Astro.props;
---

{
  (prev || next) && (
    <nav class="page-nav not-prose astro-component mt-12 border-t border-white/10 pt-8" data-component="page-nav">
      <div class={`grid gap-4 ${prev && next ? 'grid-cols-1 md:grid-cols-2' : 'grid-cols-1'}`}>
        {prev && (
          <a
            href={prev.href}
            class="page-nav-card group relative flex items-center gap-4 overflow-hidden rounded-lg border border-white/10 bg-white/5 p-6 transition-opacity duration-200 hover:opacity-80 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:ring-offset-2 focus-visible:ring-offset-black"
          >
            <div class="relative z-10 flex-shrink-0">
              <div class="flex h-12 w-12 items-center justify-center rounded-lg border border-white/10 bg-white/5 transition-opacity duration-200 group-hover:opacity-80">
                <Icon
                  name="tabler:arrow-left"
                  class="h-5 w-5 text-white/60 transition-opacity duration-200 group-hover:opacity-80"
                />
              </div>
            </div>
            <div class="relative z-10 min-w-0 flex-1">
              <div class="mb-1.5 text-xs font-medium tracking-wider text-white/50 uppercase">Previous</div>
              <h3 class="mb-1 text-lg font-semibold text-white transition-opacity group-hover:opacity-80">
                {prev.title}
              </h3>
              {prev.description && <p class="line-clamp-2 text-sm text-white/60">{prev.description}</p>}
            </div>
          </a>
        )}

        {next && (
          <a
            href={next.href}
            class="page-nav-card group relative flex items-center gap-4 overflow-hidden rounded-lg border border-white/10 bg-white/5 p-6 transition-opacity duration-200 hover:opacity-80 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:ring-offset-2 focus-visible:ring-offset-black"
          >
            <div class="relative z-10 min-w-0 flex-1">
              <div class="mb-1.5 text-xs font-medium tracking-wider text-white/50 uppercase">Next</div>
              <h3 class="mb-1 text-lg font-semibold text-white transition-opacity group-hover:opacity-80">
                {next.title}
              </h3>
              {next.description && <p class="line-clamp-2 text-sm text-white/60">{next.description}</p>}
            </div>
            <div class="relative z-10 flex-shrink-0">
              <div class="flex h-12 w-12 items-center justify-center rounded-lg border border-white/10 bg-white/5 transition-opacity duration-200 group-hover:opacity-80">
                <Icon
                  name="tabler:arrow-right"
                  class="h-5 w-5 text-white/60 transition-opacity duration-200 group-hover:opacity-80"
                />
              </div>
            </div>
          </a>
        )}
      </div>
    </nav>
  )
}

<style is:global>
  .page-nav {
    margin-top: 3rem;
    margin-bottom: 2rem;
  }

  .prose + .page-nav {
    margin-top: 4rem;
  }
</style>
