---
import { Icon } from 'astro-icon/components';

interface Props {
  href: string;
  icon: string;
  title: string;
  description: string;
}

const { href, icon, title, description } = Astro.props;
---

<a
  href={href}
  target="_blank"
  rel="noopener noreferrer"
  class="community-link community-link-animated not-prose group flex items-start gap-3 rounded-lg border border-white/10 bg-white/5 p-5 transition-opacity duration-200 hover:opacity-80"
  data-component="community-link"
>
  <div class="community-link-icon-wrapper flex-shrink-0">
    <Icon name={icon} class="text-primary h-6 w-6 transition-transform" />
  </div>
  <div class="min-w-0 flex-1">
    <p class="text-base font-semibold text-white transition-opacity group-hover:opacity-80">
      {title}
    </p>
    <p class="mt-2 text-sm text-white/60">{description}</p>
  </div>
  <Icon
    name="tabler:arrow-up-right"
    class="h-4 w-4 flex-shrink-0 text-white/40 transition-opacity group-hover:opacity-80"
  />
</a>

<style is:global>
  .community-link-animated {
    animation: community-link-fade-in 0.4s ease-out;
  }

  @keyframes community-link-fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .community-link-icon-wrapper {
    animation: community-link-icon-fade-in 0.6s ease-out;
  }

  @keyframes community-link-icon-fade-in {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
</style>
